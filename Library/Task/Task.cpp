//---------------------------------------------------------------------------
#pragma hdrstop
#include "Task.h"
//---------------------------------------------------------------------------
#pragma package(smart_init)
//---------------------------------------------------------------------------
Task::Task()
{
    _thread = new SuperThread(true); // true - Не запускать поток при выделение памяти
    _thread->FreeOnTerminate = false; // false - НЕ уничтожаться после завершения
}
//---------------------------------------------------------------------------
Task::~Task()
{
    delete _thread;
}
//---------------------------------------------------------------------------
void Task::RunAsynk(ActionSelf<>* action)
{
    _thread->SetFlagNotSynchro();
    _thread->GetEventStartNotSynhro( action );
    _thread->Resume();
    //(*action)();
}
//---------------------------------------------------------------------------
void Task::BeginInvoke(ActionSelf<>* action)
{
    _thread->SetFlagSynchro();
    _thread->GetEventStartSynhro( action );
    //(*action)();
}
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
//---------------------------------------------------------------------------
